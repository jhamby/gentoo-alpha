--- gmp-6.2.1/mpn/alpha/ev6/gmp-mparam.h.orig	2020-11-14 10:45:09.000000000 -0800
+++ gmp-6.2.1/mpn/alpha/ev6/gmp-mparam.h	2021-05-23 17:29:33.346907252 -0700
@@ -34,176 +34,134 @@
 
 #define DIVEXACT_BY3_METHOD 0	/* override ../diveby3.asm */
 
-/* 500 MHz 21164 (agnesi.math.su.se) */
-/* FFT tuning limit = 20000000 */
-/* Generated by tuneup.c, 2014-03-14, gcc 3.3 */
+/* 667 MHz 21264A (XP1000) */
+/* Generated by tuneup.c, 2021-05-23, gcc 11.1 */
 
 #define DIVREM_1_NORM_THRESHOLD              0  /* preinv always */
 #define DIVREM_1_UNNORM_THRESHOLD            0  /* always */
-#define MOD_1_1P_METHOD                      2
+#define MOD_1_1P_METHOD                      2  /* 3.40% faster than 1 */
 #define MOD_1_NORM_THRESHOLD                 0  /* always */
 #define MOD_1_UNNORM_THRESHOLD               0  /* always */
 #define MOD_1N_TO_MOD_1_1_THRESHOLD          4
-#define MOD_1U_TO_MOD_1_1_THRESHOLD          2
-#define MOD_1_1_TO_MOD_1_2_THRESHOLD        10
-#define MOD_1_2_TO_MOD_1_4_THRESHOLD        21
-#define PREINV_MOD_1_TO_MOD_1_THRESHOLD      7
+#define MOD_1U_TO_MOD_1_1_THRESHOLD          4
+#define MOD_1_1_TO_MOD_1_2_THRESHOLD         9
+#define MOD_1_2_TO_MOD_1_4_THRESHOLD        23
+#define PREINV_MOD_1_TO_MOD_1_THRESHOLD     11
 #define USE_PREINV_DIVREM_1                  1  /* preinv always */
-#define DIV_QR_1N_PI1_METHOD                 2
+#define DIV_QR_1N_PI1_METHOD                 1  /* 1.78% faster than 2 */
 #define DIV_QR_1_NORM_THRESHOLD              5
 #define DIV_QR_1_UNNORM_THRESHOLD            1
-#define DIV_QR_2_PI2_THRESHOLD               8
+#define DIV_QR_2_PI2_THRESHOLD               7
 #define DIVEXACT_1_THRESHOLD                 0  /* always */
 #define BMOD_1_TO_MOD_1_THRESHOLD           20
 
-#define MUL_TOOM22_THRESHOLD                32
-#define MUL_TOOM33_THRESHOLD               117
-#define MUL_TOOM44_THRESHOLD               124
-#define MUL_TOOM6H_THRESHOLD               230
+#define DIV_1_VS_MUL_1_PERCENT             434
+
+#define MUL_TOOM22_THRESHOLD                38
+#define MUL_TOOM33_THRESHOLD               109
+#define MUL_TOOM44_THRESHOLD               166
+#define MUL_TOOM6H_THRESHOLD               228
 #define MUL_TOOM8H_THRESHOLD               357
 
-#define MUL_TOOM32_TO_TOOM43_THRESHOLD      97
-#define MUL_TOOM32_TO_TOOM53_THRESHOLD     107
-#define MUL_TOOM42_TO_TOOM53_THRESHOLD      88
+#define MUL_TOOM32_TO_TOOM43_THRESHOLD      77
+#define MUL_TOOM32_TO_TOOM53_THRESHOLD     114
+#define MUL_TOOM42_TO_TOOM53_THRESHOLD     105
 #define MUL_TOOM42_TO_TOOM63_THRESHOLD     105
-#define MUL_TOOM43_TO_TOOM54_THRESHOLD     136
+#define MUL_TOOM43_TO_TOOM54_THRESHOLD     154
 
 #define SQR_BASECASE_THRESHOLD               0  /* always */
-#define SQR_TOOM2_THRESHOLD                 59
-#define SQR_TOOM3_THRESHOLD                123
-#define SQR_TOOM4_THRESHOLD                163
-#define SQR_TOOM6_THRESHOLD                333
-#define SQR_TOOM8_THRESHOLD                  0  /* always */
+#define SQR_TOOM2_THRESHOLD                 14
+#define SQR_TOOM3_THRESHOLD                 51
+#define SQR_TOOM4_THRESHOLD                150
+#define SQR_TOOM6_THRESHOLD                204
+#define SQR_TOOM8_THRESHOLD                296
 
-#define MULMID_TOOM42_THRESHOLD             52
+#define MULMID_TOOM42_THRESHOLD             54
 
-#define MULMOD_BNM1_THRESHOLD               19
-#define SQRMOD_BNM1_THRESHOLD                5
+#define MULMOD_BNM1_THRESHOLD                7
+#define SQRMOD_BNM1_THRESHOLD               13
 
-#define MUL_FFT_MODF_THRESHOLD             468  /* k = 5 */
+#define MUL_FFT_MODF_THRESHOLD             444  /* k = 5 */
 #define MUL_FFT_TABLE3                                      \
-  { {    468, 5}, {     19, 6}, {     10, 5}, {     21, 6}, \
-    {     11, 5}, {     23, 6}, {     19, 7}, {     10, 6}, \
-    {     24, 7}, {     13, 6}, {     27, 7}, {     14, 6}, \
-    {     29, 7}, {     17, 6}, {     35, 7}, {     29, 8}, \
-    {     15, 7}, {     32, 8}, {     17, 7}, {     35, 8}, \
-    {     19, 7}, {     39, 8}, {     29, 9}, {     15, 8}, \
-    {     35, 9}, {     19, 8}, {     41, 9}, {     23, 8}, \
-    {     51, 9}, {     27, 8}, {     55, 9}, {     35, 8}, \
-    {     71, 9}, {     39,10}, {     23, 9}, {     55,10}, \
-    {     31, 9}, {     67,10}, {     39, 9}, {     79,10}, \
-    {     47, 9}, {     95,10}, {     55,11}, {     31,10}, \
-    {     79,11}, {     47,10}, {    103,12}, {     31,11}, \
-    {     63,10}, {    135,11}, {     79,10}, {    167,11}, \
-    {     95,10}, {    199,11}, {    111,12}, {     63,11}, \
-    {    143,10}, {    287, 9}, {    575,11}, {    159,10}, \
-    {    319,12}, {     95,11}, {    191,10}, {    383,11}, \
-    {    207,13}, {     63,12}, {    127,11}, {    255,10}, \
-    {    511,11}, {    271,10}, {    543,11}, {    287,10}, \
-    {    575,12}, {    159,11}, {    319,10}, {    639,11}, \
-    {    335,10}, {    671,11}, {    351,10}, {    703,12}, \
-    {    191,11}, {    383,10}, {    767,11}, {    415,12}, \
-    {    223,11}, {    447,13}, {    127,12}, {    255,11}, \
-    {    543,12}, {    287,11}, {    575,10}, {   1151,11}, \
-    {    607,12}, {    319,11}, {    671,12}, {    351,11}, \
-    {    703,13}, {    191,12}, {    383,11}, {    767,12}, \
-    {    415,11}, {    831,12}, {    447,14}, {    127,13}, \
-    {    255,12}, {    575,11}, {   1151,12}, {    607,13}, \
-    {    319,12}, {    735,13}, {    383,12}, {    767,11}, \
-    {   1535,12}, {    831,13}, {    447,12}, {    959,14}, \
-    {    255,13}, {    511,12}, {   1087,13}, {    575,12}, \
-    {   1215,13}, {    639,12}, {   1343,13}, {    703,12}, \
-    {   1407,14}, {    383,13}, {    767,12}, {   1535,13}, \
-    {    831,12}, {   1663,13}, {    959,15}, {    255,14}, \
-    {    511,13}, {   1215,14}, {    639,13}, {   1407,14}, \
-    {    767,13}, {   1663,14}, {    895,13}, {   1855,15}, \
-    {    511,14}, {  16384,15}, {  32768,16}, {  65536,17}, \
-    { 131072,18}, { 262144,19}, { 524288,20}, {1048576,21}, \
-    {2097152,22}, {4194304,23}, {8388608,24} }
-#define MUL_FFT_TABLE3_SIZE 151
-#define MUL_FFT_THRESHOLD                 5760
+  { {    444, 5}, {     19, 6}, {     10, 5}, {     21, 6}, \
+    {     11, 5}, {     23, 6}, {     12, 5}, {     25, 6}, \
+    {     23, 7}, {     12, 6}, {     26, 7}, {     14, 6}, \
+    {     29, 7}, {     29, 8}, {     15, 7}, {     32, 8}, \
+    {     17, 7}, {     35, 8}, {     19, 7}, {     39, 8}, \
+    {     37, 9}, {     19, 8}, {     41, 9}, {     23, 8}, \
+    {     51, 9}, {     27, 8}, {     55, 9}, {     31, 8}, \
+    {     65, 9}, {     39, 8}, {     79, 9}, {     43,10}, \
+    {     23, 9}, {     55,10}, {     31, 9}, {     71,10}, \
+    {     39, 9}, {     83,10}, {     47, 9}, {    512,10}, \
+    {   1024,11}, {   2048,12}, {   4096,13}, {   8192,14}, \
+    {  16384,15}, {  32768,16}, {  65536,17}, { 131072,18}, \
+    { 262144,19}, { 524288,20}, {1048576,21}, {2097152,22}, \
+    {4194304,23}, {8388608,24} }
+#define MUL_FFT_TABLE3_SIZE 54
+#define MUL_FFT_THRESHOLD                 5056
 
-#define SQR_FFT_MODF_THRESHOLD             412  /* k = 5 */
+#define SQR_FFT_MODF_THRESHOLD             396  /* k = 5 */
 #define SQR_FFT_TABLE3                                      \
-  { {    412, 5}, {     19, 6}, {     10, 5}, {     21, 6}, \
-    {     11, 5}, {     23, 6}, {     12, 5}, {     25, 6}, \
-    {     27, 7}, {     14, 6}, {     29, 7}, {     28, 8}, \
+  { {    396, 5}, {     15, 6}, {      8, 5}, {     17, 6}, \
+    {     10, 5}, {     21, 6}, {     15, 7}, {      8, 6}, \
+    {     19, 7}, {     10, 6}, {     21, 7}, {     11, 6}, \
+    {     23, 7}, {     12, 6}, {     25, 7}, {     15, 6}, \
+    {     31, 7}, {     24, 8}, {     13, 7}, {     28, 8}, \
     {     15, 7}, {     31, 8}, {     17, 7}, {     36, 8}, \
-    {     19, 7}, {     39, 8}, {     29, 9}, {     15, 8}, \
-    {     35, 9}, {     19, 8}, {     41, 9}, {     23, 8}, \
-    {     49, 9}, {     27,10}, {     15, 9}, {     39,10}, \
-    {     23, 9}, {     51,11}, {     15,10}, {     31, 9}, \
-    {     67,10}, {     39, 9}, {     79,10}, {     47, 9}, \
-    {     95,10}, {     55,11}, {     31,10}, {     79,11}, \
-    {     47,10}, {     95,12}, {     31,11}, {     63,10}, \
-    {    127, 9}, {    255,11}, {     79,10}, {    159, 9}, \
-    {    319,10}, {    167,11}, {     95,10}, {    191, 9}, \
-    {    383,11}, {    111,12}, {     63,11}, {    127,10}, \
-    {    271,11}, {    143,10}, {    287, 9}, {    575,10}, \
-    {    303,11}, {    159,10}, {    319,12}, {     95,11}, \
-    {    191,10}, {    383,11}, {    207,13}, {     63,12}, \
-    {    127,11}, {    255,10}, {    511,11}, {    271,10}, \
-    {    543,11}, {    287,10}, {    575,11}, {    303,12}, \
-    {    159,11}, {    319,10}, {    639,11}, {    335,10}, \
-    {    671,11}, {    351,10}, {    703,11}, {    367,12}, \
-    {    191,11}, {    383,10}, {    767,11}, {    415,12}, \
-    {    223,11}, {    447,13}, {    127,12}, {    255,11}, \
-    {    543,12}, {    287,11}, {    575,10}, {   1151,11}, \
-    {    607,12}, {    319,11}, {    639,10}, {   1279,11}, \
-    {    671,12}, {    351,11}, {    703,13}, {    191,12}, \
-    {    383,11}, {    767,12}, {    415,11}, {    831,12}, \
-    {    447,11}, {    895,12}, {    479,14}, {    127,13}, \
-    {    255,12}, {    575,11}, {   1151,12}, {    607,13}, \
-    {    319,12}, {    703,11}, {   1407,12}, {    735,13}, \
-    {    383,12}, {    831,13}, {    447,12}, {    959,14}, \
-    {    255,13}, {    511,12}, {   1087,13}, {    575,12}, \
-    {   1151,13}, {    639,12}, {   1279,13}, {    703,12}, \
-    {   1407,14}, {    383,13}, {    767,12}, {   1535,13}, \
-    {    831,12}, {   1663,13}, {    959,15}, {    255,14}, \
-    {    511,13}, {   1215,14}, {    639,13}, {   1407,14}, \
-    {    767,13}, {   1663,14}, {    895,13}, {   1791,15}, \
-    {    511,14}, {  16384,15}, {  32768,16}, {  65536,17}, \
-    { 131072,18}, { 262144,19}, { 524288,20}, {1048576,21}, \
-    {2097152,22}, {4194304,23}, {8388608,24} }
-#define SQR_FFT_TABLE3_SIZE 159
-#define SQR_FFT_THRESHOLD                 5056
+    {     21, 9}, {     11, 8}, {     27, 9}, {     15, 8}, \
+    {     35, 9}, {     19, 8}, {     39, 9}, {     23, 8}, \
+    {     47, 9}, {     27,10}, {     15, 9}, {     35, 8}, \
+    {     71, 9}, {     39,10}, {     23, 9}, {     51,11}, \
+    {     15,10}, {     31, 9}, {     71,10}, {     39, 9}, \
+    {     83,10}, {     47, 9}, {     95,11}, {   2048,12}, \
+    {   4096,13}, {   8192,14}, {  16384,15}, {  32768,16}, \
+    {  65536,17}, { 131072,18}, { 262144,19}, { 524288,20}, \
+    {1048576,21}, {2097152,22}, {4194304,23}, {8388608,24} }
+#define SQR_FFT_TABLE3_SIZE 60
+#define SQR_FFT_THRESHOLD                 3264
 
 #define MULLO_BASECASE_THRESHOLD             0  /* always */
-#define MULLO_DC_THRESHOLD                 100
-#define MULLO_MUL_N_THRESHOLD            11355
-
-#define DC_DIV_QR_THRESHOLD                124
-#define DC_DIVAPPR_Q_THRESHOLD             438
-#define DC_BDIV_QR_THRESHOLD               153
-#define DC_BDIV_Q_THRESHOLD                318
-
-#define INV_MULMOD_BNM1_THRESHOLD           62
-#define INV_NEWTON_THRESHOLD               384
-#define INV_APPR_THRESHOLD                 402
-
-#define BINV_NEWTON_THRESHOLD              381
-#define REDC_1_TO_REDC_N_THRESHOLD         110
-
-#define MU_DIV_QR_THRESHOLD               1752
-#define MU_DIVAPPR_Q_THRESHOLD            1895
-#define MUPI_DIV_QR_THRESHOLD              174
-#define MU_BDIV_QR_THRESHOLD              1387
-#define MU_BDIV_Q_THRESHOLD               1787
-
-#define POWM_SEC_TABLE  1,13,66,82,579
-
-#define MATRIX22_STRASSEN_THRESHOLD         15
-#define HGCD_THRESHOLD                     318
-#define HGCD_APPR_THRESHOLD                363
-#define HGCD_REDUCE_THRESHOLD             2384
-#define GCD_DC_THRESHOLD                  2504
-#define GCDEXT_DC_THRESHOLD                671
-#define JACOBI_BASE_METHOD                   3
-
-#define GET_STR_DC_THRESHOLD                14
-#define GET_STR_PRECOMPUTE_THRESHOLD        25
-#define SET_STR_DC_THRESHOLD              3754
-#define SET_STR_PRECOMPUTE_THRESHOLD      8097
+#define MULLO_DC_THRESHOLD                 116
+#define MULLO_MUL_N_THRESHOLD            10023
+#define SQRLO_BASECASE_THRESHOLD             4
+#define SQRLO_DC_THRESHOLD                 396
+#define SQRLO_SQR_THRESHOLD               6481
+
+#define DC_DIV_QR_THRESHOLD                112
+#define DC_DIVAPPR_Q_THRESHOLD             399
+#define DC_BDIV_QR_THRESHOLD               115
+#define DC_BDIV_Q_THRESHOLD                294
+
+#define INV_MULMOD_BNM1_THRESHOLD           76
+#define INV_NEWTON_THRESHOLD               375
+#define INV_APPR_THRESHOLD                 384
+
+#define BINV_NEWTON_THRESHOLD              434
+#define REDC_1_TO_REDC_N_THRESHOLD         119
+
+#define MU_DIV_QR_THRESHOLD               1895
+#define MU_DIVAPPR_Q_THRESHOLD            2089
+#define MUPI_DIV_QR_THRESHOLD              177
+#define MU_BDIV_QR_THRESHOLD              1506
+#define MU_BDIV_Q_THRESHOLD               1790
+
+#define POWM_SEC_TABLE  5,14,65,606,2577
+
+#define GET_STR_DC_THRESHOLD                15
+#define GET_STR_PRECOMPUTE_THRESHOLD        28
+#define SET_STR_DC_THRESHOLD              3145
+#define SET_STR_PRECOMPUTE_THRESHOLD      8762
+
+#define FAC_DSC_THRESHOLD                 1182
+#define FAC_ODD_THRESHOLD                   31
+
+#define MATRIX22_STRASSEN_THRESHOLD         21
+#define HGCD2_DIV1_METHOD                    2  /* 3.93% faster than 5 */
+#define HGCD_THRESHOLD                     292
+#define HGCD_APPR_THRESHOLD                369
+#define HGCD_REDUCE_THRESHOLD             3014
+#define GCD_DC_THRESHOLD                  1013
+#define GCDEXT_DC_THRESHOLD                773
+#define JACOBI_BASE_METHOD                   4  /* 8.97% faster than 1 */
 
-#define FAC_DSC_THRESHOLD                  951
-#define FAC_ODD_THRESHOLD                   24
+/* Tuneup completed successfully, took 275 seconds */
